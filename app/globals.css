@import url("https://fonts.googleapis.com/css2?family=Inter:opsz,wght@14..32,100..900&display=swap");
@import "../tokens/tokens.css";

@import "tailwindcss";
@import "tw-animate-css";

/* Define custom dark mode variant */
@custom-variant dark (&:is(.dark *));

@theme inline {
  /* --- Typography Mapping --- */
  --font-sans: var(--font-sans);

  /* --- Typography: Font Weights --- */
  --font-weight-regular: var(--weight-regular);
  --font-weight-medium: var(--weight-medium);
  --font-weight-semibold: var(--weight-semibold);
  --font-weight-bold: var(--weight-bold);

  /* --- Typography: Font Sizes & Line Heights --- */
  /* Mapping standard Tailwind text sizes to design tokens */
  --text-xs: var(--text-xs-font-size);
  --leading-text-xs: var(--text-xs-line-height);

  --text-sm: var(--text-sm-font-size);
  --leading-text-sm: var(--text-sm-line-height);

  --text-md: var(--text-md-font-size);
  --leading-text-md: var(--text-md-line-height);

  --text-lg: var(--text-lg-font-size);
  --leading-text-lg: var(--text-lg-line-height);

  --text-xl: var(--text-xl-font-size);
  --leading-text-xl: var(--text-xl-line-height);

  /* --- Typography: Custom Heading Utilities --- */
  --text-h1: var(--heading-h1-font-size);
  --leading-h1: var(--heading-h1-line-height);

  --text-h2: var(--heading-h2-font-size);
  --leading-h2: var(--heading-h2-line-height);

  --text-h3: var(--heading-h3-font-size);
  --leading-h3: var(--heading-h3-line-height);

  --text-h4: var(--heading-h4-font-size);
  --leading-h4: var(--heading-h4-line-height);

  --text-h5: var(--heading-h5-font-size);
  --leading-h5: var(--heading-h5-line-height);

  --text-h6: var(--heading-h6-font-size);
  --leading-h6: var(--heading-h6-line-height);

  /* --- Border Radius Mapping --- */
  --radius-sm: var(--radius-sm);
  --radius-md: var(--radius-md);
  --radius-lg: var(--radius-lg);
  --radius-xl: var(--radius-xl);

  /* --- Semantic Color Mapping for Tailwind Utilities --- */
  /* This allows usage like bg-surface-primary, text-text-secondary, etc. */
  --color-surface-primary: var(--surface-primary);
  --color-surface-secondary: var(--surface-secondary);
  --color-surface-tertiary: var(--surface-tertiary);

  --color-text-primary: var(--text-primary);
  --color-text-secondary: var(--text-secondary);
  --color-text-tertiary: var(--text-tertiary);

  --color-border-primary: var(--border-primary);
  --color-border-secondary: var(--border-secondary);

  /* --- Component Specific Colors --- */
  --color-primary: var(--semantic-cta-primary-default);
  --color-primary-foreground: var(--semantic-surface-primary);

  /* --- Status Colors --- */
  /* These will automatically toggle based on the theme */

  --color-success: var(--status-success-main);
  --color-success-subtle: var(--status-success-subtle);

  --color-warning: var(--status-warning-main);
  --color-warning-subtle: var(--status-warning-subtle);

  --color-error: var(--status-error-main);
  --color-error-subtle: var(--status-error-subtle);

  --color-info: var(--status-info-main);
  --color-info-subtle: var(--status-info-subtle);

  /* --- Base Tailwind Overrides --- */
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-border: var(--border-primary);
}

/* 
   Logical Token Mapping 
   Maps theme-specific tokens to generic variables for automatic mode switching 
*/
:root {
  /* Default Background and Foreground */
  --background: var(--theme-light-surface-primary);
  --foreground: var(--theme-light-text-primary);

  /* Logical Semantic Mapping for Light Mode */
  --surface-primary: var(--theme-light-surface-primary);
  --surface-secondary: var(--theme-light-surface-secondary);
  --surface-tertiary: var(--theme-light-surface-tertiary);

  --text-primary: var(--theme-light-text-primary);
  --text-secondary: var(--theme-light-text-secondary);
  --text-tertiary: var(--theme-light-text-tertiary);

  --border-primary: var(--theme-light-border-primary);
  --border-secondary: var(--theme-light-border-secondary);

  /* Status Colors for Light Mode */
  --status-success-main: var(--theme-light-status-success-main);
  --status-success-subtle: var(--theme-light-status-success-subtle);
  --status-warning-main: var(--theme-light-status-warning-main);
  --status-warning-subtle: var(--theme-light-status-warning-subtle);
  --status-error-main: var(--theme-light-status-error-main);
  --status-error-subtle: var(--theme-light-status-error-subtle);
  --status-info-main: var(--theme-light-status-info-main);
  --status-info-subtle: var(--theme-light-status-info-subtle);
}

.dark {
  /* Background and Foreground for Dark Mode */
  --background: var(--theme-dark-surface-primary);
  --foreground: var(--theme-dark-text-primary);

  /* Logical Semantic Mapping for Dark Mode */
  --surface-primary: var(--theme-dark-surface-primary);
  --surface-secondary: var(--theme-dark-surface-secondary);
  --surface-tertiary: var(--theme-dark-surface-tertiary);

  --text-primary: var(--theme-dark-text-primary);
  --text-secondary: var(--theme-dark-text-secondary);
  --text-tertiary: var(--theme-dark-text-tertiary);

  --border-primary: var(--theme-dark-border-primary);
  --border-secondary: var(--theme-dark-border-secondary);

  /* Status Colors for Dark Mode */
  --status-success-main: var(--theme-dark-status-success-main);
  --status-success-subtle: var(--theme-dark-status-success-subtle);
  --status-warning-main: var(--theme-dark-status-warning-main);
  --status-warning-subtle: var(--theme-dark-status-warning-subtle);
  --status-error-main: var(--theme-dark-status-error-main);
  --status-error-subtle: var(--theme-dark-status-error-subtle);
  --status-info-main: var(--theme-dark-status-info-main);
  --status-info-subtle: var(--theme-dark-status-info-subtle);
}

@layer base {
  * {
    /* Apply global border color using mapped tokens */
    @apply border-border-primary;
  }

  body {
    /* Set default background, text color, and font */
    @apply bg-background text-foreground font-sans;
  }
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-size: inherit;
    font-weight: inherit;
    line-height: inherit;
  }
}
